// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace DemoHabitTracker.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using DemoHabitTracker;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using DemoHabitTracker.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using DemoHabitTracker.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using AntDesign;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using Plk.Blazor.DragDrop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\_Imports.razor"
using DemoHabitTracker.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\Pages\Report.razor"
using AntDesign.Charts;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\Pages\Report.razor"
using Title = AntDesign.Charts.Title;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/Report")]
    public partial class Report : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 31 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\Pages\Report.razor"
      
    string username;
    List<Habit> habits;
    List<HabitOccasion> AllHabitOccasions;

    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        username = authState.User.Identity.Name;
        habits = await habitTrackerservice.GetAllUserHabits(username);
        AllHabitOccasions = habitTrackerservice.GetAllUserOccasions(username);
        dataRose = new List<object>();
        int i = 0;
        foreach (var habit in habits)
        {
            var obj = new { type = habit.Title, value = AllHabitOccasions.Where(i => i.HabitId == habit.HabitId).Count() };
            dataRose.Add(obj);

        }

        dataDaybyDay = new List<object>();
        AllHabitOccasions.OrderBy(i => i.ScheduledDate);
        var firstday = AllHabitOccasions.Min(i => i.ScheduledDate);
        while (firstday < DateTime.Today)
        {
            var objEx = new { date = firstday.ToShortDateString(), type = "Expected", value = AllHabitOccasions.Where(i => i.ScheduledDate == firstday).Count() };
            var obj = new { date = firstday.ToShortDateString(), type = "Completed", value = AllHabitOccasions.Where(i => i.ScheduledDate == firstday).Where(i=> i.Status == ActivityStatus.Done).Count() };
            dataDaybyDay.Add(obj);
            dataDaybyDay.Add(objEx);
            firstday = firstday.AddDays(1);
        }
    }

    #region 示例1

    readonly object uvData = new object[]
{
        new {time = "2019-03", value = 350},
        new {time = "2019-04", value = 900},
        new {time = "2019-05", value = 300},
        new {time = "2019-06", value = 450},
        new {time = "2019-07", value = 470}
                        };

    readonly object transformData = new object[]
    {
        new {time = "2019-04", count = 600},
        new {time = "2019-05", count = 400},
        new {time = "2019-06", count = 380},
        new {time = "2019-07", count = 220}
                            };

    #region Rose
    List<object> dataRose;
    List<object> dataDaybyDay;
    readonly object[] data1 =
    {
        new
        {
            type = "分类一",
            value = 27
        },
        new
        {
            type = "分类二",
            value = 25
        },
        new
        {
            type = "分类三",
            value = 18
        },
        new
        {
            type = "分类四",
            value = 15
        },
        new
        {
            type = "分类五",
            value = 10
        },
        new
        {
            type = "其它",
            value = 5
        }
    };

    readonly RoseConfig configRose = new RoseConfig
    {
        ForceFit = true,
        Title = new Title
        {
            Visible = true,
            Text = "Habits"
        },
        Description = new Description
        {
            Visible = true,
            Text =
                "Those are all your habits"
        },
        Radius = 0.8,
        RadiusField = "value",
        CategoryField = "type",
        ColorField = "type",
        Label = new RoseLabel
        {
            Visible = true,
            Type = "outer"
            

#line default
#line hidden
#nullable disable
#nullable restore
#line 142 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\Pages\Report.razor"
                                              
        }
    };

    #endregion 示例1
    #endregion 示例1

    #region 示例2

    readonly object uvData2 = new object[]
    {
        new {time = "2019-03", value = 350},
        new {time = "2019-04", value = 900},
        new {time = "2019-05", value = 300},
        new {time = "2019-06", value = 450},
        new {time = "2019-07", value = 470}
                            };

    readonly object transformData2 = new object[]
    {
        new {time = "2019-03", count = 800},
        new {time = "2019-04", count = 600},
        new {time = "2019-05", count = 400},
        new {time = "2019-06", count = 380},
        new {time = "2019-07", count = 220}
                            };

    readonly ColumnLineConfig config2 = new ColumnLineConfig
    {
        Title = new Title
        {
            Visible = true,
            Text = "柱线混合图"
        },
        Description = new Description
        {
            Visible = true,
            Text = "自定义图形细节"
        },
        XField = "time",
        YField = new[] { "value", "count" },
        ColumnConfig = new ColumnConfig
        {
            Color = "#586bce"
        },
        LineConfig = new LineConfig
        {
            Color  = "#29cae4",
            Point = new LineViewConfigPoint
            {
                Visible = true,
            },
            Label = new Label
            {
                Visible = true,
            }
        }

    };

    #endregion 示例2

    #region 示例3

    readonly object uvData3 = new object[]
    {
        new {time = "2019-03", value = 350},
        new {time = "2019-04", value = 900},
        new {time = "2019-05", value = 300},
        new {time = "2019-06", value = 450},
        new {time = "2019-07", value = 470}
                            };

    readonly object transformData3 = new object[]
    {
        new {time = "2019-03", count = 800},
        new {time = "2019-04", count = 600},
        new {time = "2019-05", count = 400},
        new {time = "2019-06", count = 380},
        new {time = "2019-07", count = 220}
                            };

    readonly ColumnLineConfig config3 = new ColumnLineConfig
    {
        Title = new Title
        {
            Visible = true,
            Text = "柱线混合图"
        },
        Description = new Description
        {
            Visible = true,
            Text = "关闭双Y轴颜色映射"
        },
        XField = "time",
        YField = new[] { "value", "count" },
        YAxis = new ComboYAxis
        {
            LeftConfig = new ComboYAxisConfig
            {
                ColorMapping = false,
            },
            RightConfig = new ComboYAxisConfig
            {
                ColorMapping = false,
            }
        }

    };

    #endregion 示例3

    #region 示例4

    readonly object uvData4 = new object[]
{
        new {time = "2019-03", value = 350},
        new {time = "2019-04", value = 900},
        new {time = "2019-05", value = 300},
        new {time = "2019-06", value = 450},
        new {time = "2019-07", value = 470}
                        };

    readonly object transformData4 = new object[]
    {
          new { time =  "2019-03", count =  800, name =  "a" },
          new { time =  "2019-04", count =  600, name =  "a" },
          new { time =  "2019-05", count =  400, name =  "a" },
          new { time =  "2019-06", count =  380, name =  "a" },
          new { time =  "2019-07", count =  220, name =  "a" },
          new { time =  "2019-03", count =  750, name =  "b" },
          new { time =  "2019-04", count =  650, name =  "b" },
          new { time =  "2019-05", count =  450, name =  "b" },
          new { time =  "2019-06", count =  400, name =  "b" },
          new { time =  "2019-07", count =  320, name =  "b" },
          new { time =  "2019-03", count =  900, name =  "c" },
          new { time =  "2019-04", count =  600, name =  "c" },
          new { time =  "2019-05", count =  450, name =  "c" },
          new { time =  "2019-06", count =  300, name =  "c" },
          new { time =  "2019-07", count =  200, name =  "c" },
                            };

    readonly ColumnLineConfig config4 = new ColumnLineConfig
    {
        Title = new Title
        {
            Visible = true,
            Text = "柱线混合图",
            AlignTo = "middle"
        },
        Description = new Description
        {
            Visible = true,
            Text = "配置多折线",
            AlignTo = "middle"
        },
        XField = "time",
        YField = new[] { "value", "count" },
        ColumnConfig = new ColumnConfig
        {
            Color = "#586bce"
        },
        LineSeriesField = "name"

    };

    #endregion 示例4

    LineConfig configDaybyDay = new LineConfig
    {
        Title = new Title
        {
            Visible = true,
            Text = "Day by Day Analysys"
        },
        Description = new Description
        {
            Visible = true,
            Text = "Youa are watching the number of activities you completed every day"
        },
        Padding = "auto",
        ForceFit = true,
        XField = "date",
        YField = "value",
        YAxis = new ValueAxis
        {
            Label = new BaseAxisLabel()
        },
        Legend = new Legend
        {
            Position = "right-top"
        },
        SeriesField = "type"
        

#line default
#line hidden
#nullable disable
#nullable restore
#line 335 "c:\users\hp\source\repos\elaboratoesame\demohabittracker\DemoHabitTracker\Pages\Report.razor"
                              
    };


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AuthenticationStateProvider AuthenticationStateProvider { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HabitTrackerService habitTrackerservice { get; set; }
    }
}
#pragma warning restore 1591
